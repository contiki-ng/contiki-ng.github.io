<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Contiki-NG: rf_core_primary_mode_s Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Contiki-NG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">rf_core_primary_mode_s Struct Reference<div class="ingroups"><a class="el" href="group__rf-core.html">CC13xx/CC26xx RF core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A data strcuture representing the radio's primary mode of operation.  
 <a href="structrf__core__primary__mode__s.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rf-core_8h_source.html">arch/cpu/cc26xx-cc13xx/rf-core/rf-core.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:afaff643547e79ad65aba3796497dbad6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afaff643547e79ad65aba3796497dbad6"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrf__core__primary__mode__s.html#afaff643547e79ad65aba3796497dbad6">abort</a> )(void)</td></tr>
<tr class="memdesc:afaff643547e79ad65aba3796497dbad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to a function used to abort the current radio op. <br/></td></tr>
<tr class="separator:afaff643547e79ad65aba3796497dbad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7e89cedc32d0652537be470dcdb554"><td class="memItemLeft" align="right" valign="top">uint8_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrf__core__primary__mode__s.html#a3a7e89cedc32d0652537be470dcdb554">restore</a> )(void)</td></tr>
<tr class="memdesc:a3a7e89cedc32d0652537be470dcdb554"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to a function that will restore the previous radio op.  <a href="#a3a7e89cedc32d0652537be470dcdb554">More...</a><br/></td></tr>
<tr class="separator:a3a7e89cedc32d0652537be470dcdb554"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A data strcuture representing the radio's primary mode of operation. </p>
<p>The CC13xx / CC26xx radio supports up to potentially 3 modes: IEEE, Prop and BLE. Within Contiki, we assume that the radio is by default in one of IEEE or Prop in order to support standard 6LoWPAN / .15.4 operation. The BLE mode interrupts this so called "primary" mode in order to send BLE adv messages. Once BLE is done advertising, we need to be able to restore the previous .15.4 mode. Unfortunately, the only way this can be done with NETSTACK_RADIO API is by fully power-cycling the radio, which is something we do not want to do.</p>
<p>Thus, we declare a secondary data structure for primary mode drivers (IEEE or Prop). We use this data structure to issue "soft off" and "back on" commands. Soft off in this context means stopping RX (e.g. the respective IEEE RX operation), but without shutting down the RF core (which is what NETSTACK_RADIO.off() would have done). We then remember what mode we were using in order to be able to re-enter RX mode for this mode.</p>
<p>A NETSTACK_RADIO driver will declare those two functions somewhere within its module of implementation. During its <a class="el" href="group__cc2538-rf.html#gaee24874ac3a06e235eae06bc77703417">init()</a> routine, it will notify the RF core module so that the latter can abort and restore operations. </p>

<p>Definition at line <a class="el" href="rf-core_8h_source.html#l00132">132</a> of file <a class="el" href="rf-core_8h_source.html">rf-core.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a3a7e89cedc32d0652537be470dcdb554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t(* rf_core_primary_mode_s::restore)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to a function that will restore the previous radio op. </p>
<dl class="section return"><dt>Returns</dt><dd>RF_CORE_CMD_OK or RF_CORE_CMD_ERROR </dd></dl>

<p>Definition at line <a class="el" href="rf-core_8h_source.html#l00142">142</a> of file <a class="el" href="rf-core_8h_source.html">rf-core.h</a>.</p>

<p>Referenced by <a class="el" href="rf-core_8c_source.html#l00528">rf_core_primary_mode_restore()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 7 2017 12:06:28 for Contiki-NG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
