<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Contiki-NG: An implementation of CoAP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Contiki-NG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">An implementation of CoAP<div class="ingroups"><a class="el" href="group__net.html">IoT networking</a> &raquo; <a class="el" href="group__apps.html">Application-layer protocols and profiles</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This is an implementation of the Constrained Application Protocol.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__coap-keystore"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap-keystore.html">CoAP keystore API</a></td></tr>
<tr class="memdesc:group__coap-keystore"><td class="mdescLeft">&#160;</td><td class="mdescRight">The CoAP keystore API defines a common interface for retrieving authorization information for CoAP/DTLS. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__coap-timer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap-timer.html">CoAP timer API</a></td></tr>
<tr class="memdesc:group__coap-timer"><td class="mdescLeft">&#160;</td><td class="mdescRight">The CoAP timer API defines a common interface for CoAP timer and time functionality. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__coap-transport"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap-transport.html">CoAP transport API</a></td></tr>
<tr class="memdesc:group__coap-transport"><td class="mdescLeft">&#160;</td><td class="mdescRight">The CoAP transport API defines a common interface for sending/receiving CoAP messages. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga9ed5a6a0896c870004807ce901848857"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9ed5a6a0896c870004807ce901848857"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#ga9ed5a6a0896c870004807ce901848857">COAP_MAX_PACKET_SIZE</a>&#160;&#160;&#160;(COAP_MAX_HEADER_SIZE + COAP_MAX_CHUNK_SIZE)</td></tr>
<tr class="memdesc:ga9ed5a6a0896c870004807ce901848857"><td class="mdescLeft">&#160;</td><td class="mdescRight">The max size of the CoAP messages. <br /></td></tr>
<tr class="separator:ga9ed5a6a0896c870004807ce901848857"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadd024951ff2db8f63e8e9ecc291ed7d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#gadd024951ff2db8f63e8e9ecc291ed7d1">coap_block1_handler</a> (coap_message_t *request, coap_message_t *response, uint8_t *target, size_t *len, size_t max_len)</td></tr>
<tr class="memdesc:gadd024951ff2db8f63e8e9ecc291ed7d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block 1 support within a coap-ressource.  <a href="#gadd024951ff2db8f63e8e9ecc291ed7d1">More...</a><br /></td></tr>
<tr class="separator:gadd024951ff2db8f63e8e9ecc291ed7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19747ff9f80e0fd1e728b2a62a629c23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#ga19747ff9f80e0fd1e728b2a62a629c23">coap_activate_resource</a> (coap_resource_t *resource, const char *path)</td></tr>
<tr class="memdesc:ga19747ff9f80e0fd1e728b2a62a629c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a resource available under the given URI path.  <a href="#ga19747ff9f80e0fd1e728b2a62a629c23">More...</a><br /></td></tr>
<tr class="separator:ga19747ff9f80e0fd1e728b2a62a629c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae51f4edab0baf19ebbde6be109c5be7a"><td class="memItemLeft" align="right" valign="top">coap_resource_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#gae51f4edab0baf19ebbde6be109c5be7a">coap_get_first_resource</a> (void)</td></tr>
<tr class="memdesc:gae51f4edab0baf19ebbde6be109c5be7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first of registered CoAP resources.  <a href="#gae51f4edab0baf19ebbde6be109c5be7a">More...</a><br /></td></tr>
<tr class="separator:gae51f4edab0baf19ebbde6be109c5be7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b53fe269713115195a91e024544ba32"><td class="memItemLeft" align="right" valign="top">coap_resource_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#ga6b53fe269713115195a91e024544ba32">coap_get_next_resource</a> (coap_resource_t *resource)</td></tr>
<tr class="memdesc:ga6b53fe269713115195a91e024544ba32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next registered CoAP resource.  <a href="#ga6b53fe269713115195a91e024544ba32">More...</a><br /></td></tr>
<tr class="separator:ga6b53fe269713115195a91e024544ba32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60c267850d436102fd986e5ae3bbf6b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#ga60c267850d436102fd986e5ae3bbf6b7">coap_log_string</a> (const char *text, size_t len)</td></tr>
<tr class="memdesc:ga60c267850d436102fd986e5ae3bbf6b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a CoAP string that has a length but might not be 0-terminated.  <a href="#ga60c267850d436102fd986e5ae3bbf6b7">More...</a><br /></td></tr>
<tr class="separator:ga60c267850d436102fd986e5ae3bbf6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b7b753b2760739509cfeae882abfb80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#ga9b7b753b2760739509cfeae882abfb80">coap_separate_reject</a> ()</td></tr>
<tr class="memdesc:ga9b7b753b2760739509cfeae882abfb80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reject a request that would require a separate response with an error message.  <a href="#ga9b7b753b2760739509cfeae882abfb80">More...</a><br /></td></tr>
<tr class="separator:ga9b7b753b2760739509cfeae882abfb80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c5653513d91b3c4b0ee3528d9596dfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coap.html#ga2c5653513d91b3c4b0ee3528d9596dfd">coap_separate_accept</a> (coap_message_t *coap_req, coap_separate_t *separate_store)</td></tr>
<tr class="memdesc:ga2c5653513d91b3c4b0ee3528d9596dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate a separate response with an empty ACK.  <a href="#ga2c5653513d91b3c4b0ee3528d9596dfd">More...</a><br /></td></tr>
<tr class="separator:ga2c5653513d91b3c4b0ee3528d9596dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This is an implementation of the Constrained Application Protocol. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga19747ff9f80e0fd1e728b2a62a629c23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_activate_resource </td>
          <td>(</td>
          <td class="paramtype">coap_resource_t *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes a resource available under the given URI path. </p>
<p>Resources wanted to be accessible should be activated with the following code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>A pointer to a resource implementation </td></tr>
    <tr><td class="paramname">path</td><td>The URI path string for this resource</td></tr>
  </table>
  </dd>
</dl>
<p>The resource implementation must be imported first using the extern keyword. The build system takes care of compiling every *.c file in the ./resources/ sub-directory (see example Makefile).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>A CoAP resource defined through the RESOURCE macros. </td></tr>
    <tr><td class="paramname">path</td><td>The local URI path where to provide the resource. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="coap-engine_8c_source.html#l00400">400</a> of file <a class="el" href="coap-engine_8c_source.html">coap-engine.c</a>.</p>

<p>References <a class="el" href="coap-timer_8c_source.html#l00103">coap_timer_set()</a>, <a class="el" href="coap-timer_8h_source.html#l00105">coap_timer_set_callback()</a>, <a class="el" href="coap-timer_8h_source.html#l00130">coap_timer_set_user_data()</a>, and <a class="el" href="list_8c_source.html#l00142">list_add()</a>.</p>

</div>
</div>
<a class="anchor" id="gadd024951ff2db8f63e8e9ecc291ed7d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_block1_handler </td>
          <td>(</td>
          <td class="paramtype">coap_message_t *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">coap_message_t *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block 1 support within a coap-ressource. </p>
<p>This function will help you to use block 1. If target is null error handling and response configuration is active. On return value 0, the last block was recived, while on return value 1 more blocks will follow. With target, len and maxlen this function will assemble the blocks.</p>
<p>You can find an example in: examples/er-rest-example/resources/res-b1-sep-b2.c</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request pointer from the handler </td></tr>
    <tr><td class="paramname">response</td><td>Response pointer from the handler </td></tr>
    <tr><td class="paramname">target</td><td>Pointer to the buffer where the request payload can be assembled </td></tr>
    <tr><td class="paramname">len</td><td>Pointer to the variable, where the function stores the actual length </td></tr>
    <tr><td class="paramname">max_len</td><td>Length of the "target"-Buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if initialisation was successful -1 if initialisation failed </dd></dl>

<p>Definition at line <a class="el" href="coap-block1_8c_source.html#l00079">79</a> of file <a class="el" href="coap-block1_8c_source.html">coap-block1.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae51f4edab0baf19ebbde6be109c5be7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">coap_resource_t * coap_get_first_resource </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the first of registered CoAP resources. </p>
<dl class="section return"><dt>Returns</dt><dd>The first registered CoAP resource or NULL if none exists. </dd></dl>

<p>Definition at line <a class="el" href="coap-engine_8c_source.html#l00425">425</a> of file <a class="el" href="coap-engine_8c_source.html">coap-engine.c</a>.</p>

<p>References <a class="el" href="list_8c_source.html#l00082">list_head()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6b53fe269713115195a91e024544ba32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">coap_resource_t * coap_get_next_resource </td>
          <td>(</td>
          <td class="paramtype">coap_resource_t *&#160;</td>
          <td class="paramname"><em>resource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the next registered CoAP resource. </p>
<dl class="section return"><dt>Returns</dt><dd>The next resource or NULL if no more exists. </dd></dl>

<p>Definition at line <a class="el" href="coap-engine_8c_source.html#l00431">431</a> of file <a class="el" href="coap-engine_8c_source.html">coap-engine.c</a>.</p>

<p>References <a class="el" href="coap-timer_8h_source.html#l00118">coap_timer_get_user_data()</a>, <a class="el" href="coap-timer_8c_source.html#l00103">coap_timer_set()</a>, <a class="el" href="list_8c_source.html#l00082">list_head()</a>, and <a class="el" href="list_8c_source.html#l00322">list_item_next()</a>.</p>

</div>
</div>
<a class="anchor" id="ga60c267850d436102fd986e5ae3bbf6b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_log_string </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a CoAP string that has a length but might not be 0-terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>The CoAP string </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters in the CoAP string </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="coap-log_8c_source.html#l00047">47</a> of file <a class="el" href="coap-log_8c_source.html">coap-log.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2c5653513d91b3c4b0ee3528d9596dfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_separate_accept </td>
          <td>(</td>
          <td class="paramtype">coap_message_t *&#160;</td>
          <td class="paramname"><em>coap_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">coap_separate_t *&#160;</td>
          <td class="paramname"><em>separate_store</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate a separate response with an empty ACK. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">coap_req</td><td>The request to accept </td></tr>
    <tr><td class="paramname">separate_store</td><td>A pointer to the data structure that will store the relevant information for the response</td></tr>
  </table>
  </dd>
</dl>
<p>When the server does not have enough resources left to store the information for a separate response or otherwise cannot execute the resource handler, this function will respond with 5.03 Service Unavailable. The client can then retry later. </p>

<p>Definition at line <a class="el" href="coap-separate_8c_source.html#l00086">86</a> of file <a class="el" href="coap-separate_8c_source.html">coap-separate.c</a>.</p>

<p>References <a class="el" href="coap-uip_8c_source.html#l00337">coap_databuf()</a>, <a class="el" href="coap-uip_8c_source.html#l00165">coap_endpoint_copy()</a>, and <a class="el" href="coap-uip_8c_source.html#l00384">coap_sendto()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9b7b753b2760739509cfeae882abfb80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_separate_reject </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reject a request that would require a separate response with an error message. </p>
<p>When the server does not have enough resources left to store the information for a separate response or otherwise cannot execute the resource handler, this function will respond with 5.03 Service Unavailable. The client can then retry later. </p>

<p>Definition at line <a class="el" href="coap-separate_8c_source.html#l00067">67</a> of file <a class="el" href="coap-separate_8c_source.html">coap-separate.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 28 2018 13:00:47 for Contiki-NG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
