<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Contiki-NG: Stack checker library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Contiki-NG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Stack checker library<div class="ingroups"><a class="el" href="group__sys.html">System functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Basic support for stack guards and stack overflow detection.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:stack-check_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stack-check_8c.html">stack-check.c</a></td></tr>
<tr class="memdesc:stack-check_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><pre class="fragment">Implementation of the stack checker library.</pre> <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf3d34db6f0c0624407c4a277c19c68dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack.html#gaf3d34db6f0c0624407c4a277c19c68dd">stack_check_init</a> (void)</td></tr>
<tr class="memdesc:gaf3d34db6f0c0624407c4a277c19c68dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the stack area with a known pattern.  <a href="#gaf3d34db6f0c0624407c4a277c19c68dd">More...</a><br /></td></tr>
<tr class="separator:gaf3d34db6f0c0624407c4a277c19c68dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga512ad8c2fd6f5c2044862131ae866d97"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack.html#ga512ad8c2fd6f5c2044862131ae866d97">stack_check_get_usage</a> (void)</td></tr>
<tr class="memdesc:ga512ad8c2fd6f5c2044862131ae866d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the maximal stack usage so far.  <a href="#ga512ad8c2fd6f5c2044862131ae866d97">More...</a><br /></td></tr>
<tr class="separator:ga512ad8c2fd6f5c2044862131ae866d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b04bf68a85531caf22072273a4b0322"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack.html#ga4b04bf68a85531caf22072273a4b0322">stack_check_get_reserved_size</a> (void)</td></tr>
<tr class="memdesc:ga4b04bf68a85531caf22072273a4b0322"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the maximal permitted stack usage.  <a href="#ga4b04bf68a85531caf22072273a4b0322">More...</a><br /></td></tr>
<tr class="separator:ga4b04bf68a85531caf22072273a4b0322"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Basic support for stack guards and stack overflow detection. </p>
<p>On startup, fills the area between the stack and the heap with a known pattern. During execution, the fill can be checked in order to find out the extent to which the stack has been used. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga4b04bf68a85531caf22072273a4b0322"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t stack_check_get_reserved_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the maximal permitted stack usage. </p>
<p>This function returns the number of bytes between the origin of the stack and the end of heap. </p>

<p>Definition at line <a class="el" href="stack-check_8c_source.html#l00126">126</a> of file <a class="el" href="stack-check_8c_source.html">stack-check.c</a>.</p>

<p>References <a class="el" href="etimer_8c_source.html#l00213">etimer_expired()</a>, <a class="el" href="etimer_8c_source.html#l00192">etimer_reset()</a>, <a class="el" href="etimer_8c_source.html#l00177">etimer_set()</a>, <a class="el" href="process_8h_source.html#l00120">PROCESS_BEGIN</a>, <a class="el" href="process_8h_source.html#l00131">PROCESS_END</a>, <a class="el" href="cc2538-rf_8c_source.html#l01008">PROCESS_THREAD()</a>, <a class="el" href="process_8h_source.html#l00157">PROCESS_WAIT_EVENT_UNTIL</a>, and <a class="el" href="stack-check_8c_source.html#l00095">stack_check_get_usage()</a>.</p>

</div>
</div>
<a class="anchor" id="ga512ad8c2fd6f5c2044862131ae866d97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t stack_check_get_usage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the maximal stack usage so far. </p>
<p>This function relies on the assumption that the stack memory that has been reserved by functions and local variables is actually overwritten with new contents. If the stack is just reserved, but not used, the function will fail to detect that usage. In addition, this function can warn if the stack memory range has been completely used, but it cannot detect and warn if stack overflow has already taken place. </p>

<p>Definition at line <a class="el" href="stack-check_8c_source.html#l00095">95</a> of file <a class="el" href="stack-check_8c_source.html">stack-check.c</a>.</p>

<p>References <a class="el" href="cpu_2cc2538_2dev_2watchdog_8c_source.html#l00085">watchdog_periodic()</a>.</p>

<p>Referenced by <a class="el" href="stack-check_8c_source.html#l00126">stack_check_get_reserved_size()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf3d34db6f0c0624407c4a277c19c68dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stack_check_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the stack area with a known pattern. </p>
<p>This function initializes the memory between the stack and heap areas. The function should be called by the system during boot-up. </p>

<p>Definition at line <a class="el" href="stack-check_8c_source.html#l00073">73</a> of file <a class="el" href="stack-check_8c_source.html">stack-check.c</a>.</p>

<p>References <a class="el" href="process_8c_source.html#l00099">process_start()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 28 2018 13:00:47 for Contiki-NG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
