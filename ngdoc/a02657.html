<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ContikiNG: SensorTag/LaunchPad External Flash</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ContikiNG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SensorTag/LaunchPad External Flash<div class="ingroups"><a class="el" href="a02560.html">ContikiNG platforms</a> &raquo; <a class="el" href="a02609.html">TI CC26xx-powered Platforms</a> &raquo; <a class="el" href="a02654.html">SmartRF+CC13xx/CC26xx EM, SensorTags and LaunchPads</a> &raquo; <a class="el" href="a02655.html">CC13xx/CC26xx peripheral driver pool</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a01172"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01172.html">ext-flash.c</a></td></tr>
<tr class="memdesc:a01172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sensortag/LaunchPad External Flash Driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01175"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01175.html">ext-flash.h</a></td></tr>
<tr class="memdesc:a01175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for the Sensortag/LaunchPad External Flash Driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf7f385ddfac8c3665707b89f38d244ff"><td class="memItemLeft" align="right" valign="top"><a id="gaf7f385ddfac8c3665707b89f38d244ff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gaf7f385ddfac8c3665707b89f38d244ff">BLS_CODE_PROGRAM</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:gaf7f385ddfac8c3665707b89f38d244ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Page Program. <br /></td></tr>
<tr class="separator:gaf7f385ddfac8c3665707b89f38d244ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e63a8e9ef9e4f8c4a84a1a2ae11cf38"><td class="memItemLeft" align="right" valign="top"><a id="ga9e63a8e9ef9e4f8c4a84a1a2ae11cf38"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga9e63a8e9ef9e4f8c4a84a1a2ae11cf38">BLS_CODE_READ</a>&#160;&#160;&#160;0x03</td></tr>
<tr class="memdesc:ga9e63a8e9ef9e4f8c4a84a1a2ae11cf38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read Data. <br /></td></tr>
<tr class="separator:ga9e63a8e9ef9e4f8c4a84a1a2ae11cf38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8da27214cc36cdfeded873f5ba902aee"><td class="memItemLeft" align="right" valign="top"><a id="ga8da27214cc36cdfeded873f5ba902aee"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga8da27214cc36cdfeded873f5ba902aee">BLS_CODE_READ_STATUS</a>&#160;&#160;&#160;0x05</td></tr>
<tr class="memdesc:ga8da27214cc36cdfeded873f5ba902aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read Status Register. <br /></td></tr>
<tr class="separator:ga8da27214cc36cdfeded873f5ba902aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae53c2b498f5c1f90f4af03cbd009e387"><td class="memItemLeft" align="right" valign="top"><a id="gae53c2b498f5c1f90f4af03cbd009e387"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gae53c2b498f5c1f90f4af03cbd009e387">BLS_CODE_WRITE_ENABLE</a>&#160;&#160;&#160;0x06</td></tr>
<tr class="memdesc:gae53c2b498f5c1f90f4af03cbd009e387"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write Enable. <br /></td></tr>
<tr class="separator:gae53c2b498f5c1f90f4af03cbd009e387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e76eac84116b400c078055b9fc2e438"><td class="memItemLeft" align="right" valign="top"><a id="ga5e76eac84116b400c078055b9fc2e438"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga5e76eac84116b400c078055b9fc2e438">BLS_CODE_SECTOR_ERASE</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:ga5e76eac84116b400c078055b9fc2e438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sector Erase. <br /></td></tr>
<tr class="separator:ga5e76eac84116b400c078055b9fc2e438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57bc3bedf4e302893bd0f3a0d9bfc4c7"><td class="memItemLeft" align="right" valign="top"><a id="ga57bc3bedf4e302893bd0f3a0d9bfc4c7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga57bc3bedf4e302893bd0f3a0d9bfc4c7">BLS_CODE_MDID</a>&#160;&#160;&#160;0x90</td></tr>
<tr class="memdesc:ga57bc3bedf4e302893bd0f3a0d9bfc4c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manufacturer Device ID. <br /></td></tr>
<tr class="separator:ga57bc3bedf4e302893bd0f3a0d9bfc4c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba5d74baed8c7f7e1b40b2d20921151f"><td class="memItemLeft" align="right" valign="top"><a id="gaba5d74baed8c7f7e1b40b2d20921151f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gaba5d74baed8c7f7e1b40b2d20921151f">BLS_CODE_PD</a>&#160;&#160;&#160;0xB9</td></tr>
<tr class="memdesc:gaba5d74baed8c7f7e1b40b2d20921151f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power down. <br /></td></tr>
<tr class="separator:gaba5d74baed8c7f7e1b40b2d20921151f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga570144c5b8e8ae19cddeb6f5ab008c96"><td class="memItemLeft" align="right" valign="top"><a id="ga570144c5b8e8ae19cddeb6f5ab008c96"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga570144c5b8e8ae19cddeb6f5ab008c96">BLS_CODE_RPD</a>&#160;&#160;&#160;0xAB</td></tr>
<tr class="memdesc:ga570144c5b8e8ae19cddeb6f5ab008c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release Power-Down. <br /></td></tr>
<tr class="separator:ga570144c5b8e8ae19cddeb6f5ab008c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0df31bb344fd5e36f3fec8f69cb293ad"><td class="memItemLeft" align="right" valign="top"><a id="ga0df31bb344fd5e36f3fec8f69cb293ad"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga0df31bb344fd5e36f3fec8f69cb293ad">BLS_CODE_ERASE_4K</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:ga0df31bb344fd5e36f3fec8f69cb293ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sector Erase. <br /></td></tr>
<tr class="separator:ga0df31bb344fd5e36f3fec8f69cb293ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53b0528989a74aa8768974d795216d2e"><td class="memItemLeft" align="right" valign="top"><a id="ga53b0528989a74aa8768974d795216d2e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga53b0528989a74aa8768974d795216d2e">BLS_CODE_ERASE_ALL</a>&#160;&#160;&#160;0xC7</td></tr>
<tr class="memdesc:ga53b0528989a74aa8768974d795216d2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mass Erase. <br /></td></tr>
<tr class="separator:ga53b0528989a74aa8768974d795216d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72e273e3dc039e5cf33d6fd5f580c192"><td class="memItemLeft" align="right" valign="top"><a id="ga72e273e3dc039e5cf33d6fd5f580c192"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga72e273e3dc039e5cf33d6fd5f580c192">BLS_STATUS_BIT_BUSY</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:ga72e273e3dc039e5cf33d6fd5f580c192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy bit of the status register. <br /></td></tr>
<tr class="separator:ga72e273e3dc039e5cf33d6fd5f580c192"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9a285fc2222081defbe3a867a18220d8"><td class="memItemLeft" align="right" valign="top"><a id="ga9a285fc2222081defbe3a867a18220d8"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga9a285fc2222081defbe3a867a18220d8">select_on_bus</a> (void)</td></tr>
<tr class="memdesc:ga9a285fc2222081defbe3a867a18220d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear external flash CSN line. <br /></td></tr>
<tr class="separator:ga9a285fc2222081defbe3a867a18220d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0eadae94de728461ccade9e03fafd8c"><td class="memItemLeft" align="right" valign="top"><a id="gac0eadae94de728461ccade9e03fafd8c"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gac0eadae94de728461ccade9e03fafd8c">deselect</a> (void)</td></tr>
<tr class="memdesc:gac0eadae94de728461ccade9e03fafd8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set external flash CSN line. <br /></td></tr>
<tr class="separator:gac0eadae94de728461ccade9e03fafd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad01d732342bcfad629510d25b5e64370"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gad01d732342bcfad629510d25b5e64370">wait_ready</a> (void)</td></tr>
<tr class="memdesc:gad01d732342bcfad629510d25b5e64370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait till previous erase/program operation completes.  <a href="#gad01d732342bcfad629510d25b5e64370">More...</a><br /></td></tr>
<tr class="separator:gad01d732342bcfad629510d25b5e64370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf366069b6d7dcc0bebffa99583640a9e"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gaf366069b6d7dcc0bebffa99583640a9e">verify_part</a> (void)</td></tr>
<tr class="memdesc:gaf366069b6d7dcc0bebffa99583640a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify the flash part.  <a href="#gaf366069b6d7dcc0bebffa99583640a9e">More...</a><br /></td></tr>
<tr class="separator:gaf366069b6d7dcc0bebffa99583640a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d5e4166008e00824dc4c924d948be8a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga3d5e4166008e00824dc4c924d948be8a">power_down</a> (void)</td></tr>
<tr class="memdesc:ga3d5e4166008e00824dc4c924d948be8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the device in power save mode.  <a href="#ga3d5e4166008e00824dc4c924d948be8a">More...</a><br /></td></tr>
<tr class="separator:ga3d5e4166008e00824dc4c924d948be8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b22ae1ddbe1d693aaf6f6640712d0cb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga2b22ae1ddbe1d693aaf6f6640712d0cb">power_standby</a> (void)</td></tr>
<tr class="memdesc:ga2b22ae1ddbe1d693aaf6f6640712d0cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take device out of power save mode and prepare it for normal operation.  <a href="#ga2b22ae1ddbe1d693aaf6f6640712d0cb">More...</a><br /></td></tr>
<tr class="separator:ga2b22ae1ddbe1d693aaf6f6640712d0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05f970893e060c7bed2a754b5571a258"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga05f970893e060c7bed2a754b5571a258">write_enable</a> (void)</td></tr>
<tr class="memdesc:ga05f970893e060c7bed2a754b5571a258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable write.  <a href="#ga05f970893e060c7bed2a754b5571a258">More...</a><br /></td></tr>
<tr class="separator:ga05f970893e060c7bed2a754b5571a258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ab4d7bcfc9539559a530b66f7838103"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga2ab4d7bcfc9539559a530b66f7838103">ext_flash_open</a> (void)</td></tr>
<tr class="memdesc:ga2ab4d7bcfc9539559a530b66f7838103"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize storage driver.  <a href="#ga2ab4d7bcfc9539559a530b66f7838103">More...</a><br /></td></tr>
<tr class="separator:ga2ab4d7bcfc9539559a530b66f7838103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f09f1e3a3f2519734e70076fca77cd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga9f09f1e3a3f2519734e70076fca77cd6">ext_flash_close</a> (void)</td></tr>
<tr class="memdesc:ga9f09f1e3a3f2519734e70076fca77cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the storage driver.  <a href="#ga9f09f1e3a3f2519734e70076fca77cd6">More...</a><br /></td></tr>
<tr class="separator:ga9f09f1e3a3f2519734e70076fca77cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8d61bd2bb862592601ad397e57332b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gac8d61bd2bb862592601ad397e57332b3">ext_flash_read</a> (size_t offset, size_t length, uint8_t *buf)</td></tr>
<tr class="memdesc:gac8d61bd2bb862592601ad397e57332b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read storage content.  <a href="#gac8d61bd2bb862592601ad397e57332b3">More...</a><br /></td></tr>
<tr class="separator:gac8d61bd2bb862592601ad397e57332b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1cafe0ce68e0b6f42688cc2f9d19af7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#gaa1cafe0ce68e0b6f42688cc2f9d19af7">ext_flash_write</a> (size_t offset, size_t length, const uint8_t *buf)</td></tr>
<tr class="memdesc:gaa1cafe0ce68e0b6f42688cc2f9d19af7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to storage sectors.  <a href="#gaa1cafe0ce68e0b6f42688cc2f9d19af7">More...</a><br /></td></tr>
<tr class="separator:gaa1cafe0ce68e0b6f42688cc2f9d19af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga053f3b9d89b1c9a7a7bf63d70a4aa9a3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga053f3b9d89b1c9a7a7bf63d70a4aa9a3">ext_flash_erase</a> (size_t offset, size_t length)</td></tr>
<tr class="memdesc:ga053f3b9d89b1c9a7a7bf63d70a4aa9a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase storage sectors corresponding to the range.  <a href="#ga053f3b9d89b1c9a7a7bf63d70a4aa9a3">More...</a><br /></td></tr>
<tr class="separator:ga053f3b9d89b1c9a7a7bf63d70a4aa9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12be877277b7f17ac02f83866ef5ae54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga12be877277b7f17ac02f83866ef5ae54">ext_flash_test</a> (void)</td></tr>
<tr class="memdesc:ga12be877277b7f17ac02f83866ef5ae54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the flash (power on self-test)  <a href="#ga12be877277b7f17ac02f83866ef5ae54">More...</a><br /></td></tr>
<tr class="separator:ga12be877277b7f17ac02f83866ef5ae54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f48175293a861303dcd6b87c67047f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02657.html#ga4f48175293a861303dcd6b87c67047f1">ext_flash_init</a> (void)</td></tr>
<tr class="memdesc:ga4f48175293a861303dcd6b87c67047f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the external flash.  <a href="#ga4f48175293a861303dcd6b87c67047f1">More...</a><br /></td></tr>
<tr class="separator:ga4f48175293a861303dcd6b87c67047f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9f09f1e3a3f2519734e70076fca77cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f09f1e3a3f2519734e70076fca77cd6">&#9670;&nbsp;</a></span>ext_flash_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ext_flash_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the storage driver. </p>
<p>This call will put the device in its lower power mode (power down). </p>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00288">288</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">References <a class="el" href="a01166_source.html#l00145">board_spi_close()</a>, and <a class="el" href="a01172_source.html#l00198">power_down()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a01172_source.html#l00449">ext_flash_init()</a>, and <a class="el" href="a01172_source.html#l00438">ext_flash_test()</a>.</p>

</div>
</div>
<a id="ga053f3b9d89b1c9a7a7bf63d70a4aa9a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga053f3b9d89b1c9a7a7bf63d70a4aa9a3">&#9670;&nbsp;</a></span>ext_flash_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ext_flash_erase </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase storage sectors corresponding to the range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Address to start erasing </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to erase </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True when successful.</dd></dl>
<p>The erase operation will be sector-wise, therefore a call to this function will generally start the erase procedure at an address lower than offset </p>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00389">389</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

</div>
</div>
<a id="ga4f48175293a861303dcd6b87c67047f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f48175293a861303dcd6b87c67047f1">&#9670;&nbsp;</a></span>ext_flash_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ext_flash_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the external flash. </p>
<p>This function will explicitly put the part in its lowest power mode (power-down).</p>
<p>In order to perform any operation, the caller must first wake the device up by calling <a class="el" href="a02657.html#ga2ab4d7bcfc9539559a530b66f7838103" title="Initialize storage driver. ">ext_flash_open()</a> </p>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00449">449</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">References <a class="el" href="a01172_source.html#l00288">ext_flash_close()</a>, and <a class="el" href="a01172_source.html#l00271">ext_flash_open()</a>.</p>

</div>
</div>
<a id="ga2ab4d7bcfc9539559a530b66f7838103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ab4d7bcfc9539559a530b66f7838103">&#9670;&nbsp;</a></span>ext_flash_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ext_flash_open </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize storage driver. </p>
<dl class="section return"><dt>Returns</dt><dd>True when successful. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00271">271</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">References <a class="el" href="a01166_source.html#l00116">board_spi_open()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a01172_source.html#l00449">ext_flash_init()</a>, and <a class="el" href="a01172_source.html#l00438">ext_flash_test()</a>.</p>

</div>
</div>
<a id="gac8d61bd2bb862592601ad397e57332b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8d61bd2bb862592601ad397e57332b3">&#9670;&nbsp;</a></span>ext_flash_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ext_flash_read </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read storage content. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Address to read from </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to read </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer where to store the read bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True when successful.</dd></dl>
<p>buf must be allocated by the caller </p>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00297">297</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

</div>
</div>
<a id="ga12be877277b7f17ac02f83866ef5ae54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12be877277b7f17ac02f83866ef5ae54">&#9670;&nbsp;</a></span>ext_flash_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ext_flash_test </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test the flash (power on self-test) </p>
<dl class="section return"><dt>Returns</dt><dd>True when successful. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00438">438</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">References <a class="el" href="a01172_source.html#l00288">ext_flash_close()</a>, and <a class="el" href="a01172_source.html#l00271">ext_flash_open()</a>.</p>

</div>
</div>
<a id="gaa1cafe0ce68e0b6f42688cc2f9d19af7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1cafe0ce68e0b6f42688cc2f9d19af7">&#9670;&nbsp;</a></span>ext_flash_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ext_flash_write </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to storage sectors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Address to write to </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to write </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer holding the bytes to be written</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True when successful. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00332">332</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

</div>
</div>
<a id="ga3d5e4166008e00824dc4c924d948be8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d5e4166008e00824dc4c924d948be8a">&#9670;&nbsp;</a></span>power_down()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void power_down </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put the device in power save mode. </p>
<p>No access to data; only the status register is accessible. </p>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00198">198</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="a01172_source.html#l00288">ext_flash_close()</a>.</p>

</div>
</div>
<a id="ga2b22ae1ddbe1d693aaf6f6640712d0cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b22ae1ddbe1d693aaf6f6640712d0cb">&#9670;&nbsp;</a></span>power_standby()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool power_standby </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take device out of power save mode and prepare it for normal operation. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the command was written successfully </dd></dl>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00232">232</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

</div>
</div>
<a id="gaf366069b6d7dcc0bebffa99583640a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf366069b6d7dcc0bebffa99583640a9e">&#9670;&nbsp;</a></span>verify_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t verify_part </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify the flash part. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">VERIFY_PART_OK</td><td>The part was identified successfully </td></tr>
    <tr><td class="paramname">VERIFY_PART_ERROR</td><td>There was an error communicating with the part </td></tr>
    <tr><td class="paramname">VERIFY_PART_POWERED_DOWN</td><td>Communication was successful, but the part was powered down </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00162">162</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">References <a class="el" href="a01172_source.html#l00054">BLS_CODE_MDID</a>, <a class="el" href="a01166_source.html#l00064">board_spi_write()</a>, <a class="el" href="a01172_source.html#l00104">deselect()</a>, and <a class="el" href="a01172_source.html#l00095">select_on_bus()</a>.</p>

</div>
</div>
<a id="gad01d732342bcfad629510d25b5e64370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad01d732342bcfad629510d25b5e64370">&#9670;&nbsp;</a></span>wait_ready()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool wait_ready </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait till previous erase/program operation completes. </p>
<dl class="section return"><dt>Returns</dt><dd>True when successful. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00114">114</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">References <a class="el" href="a01172_source.html#l00051">BLS_CODE_READ_STATUS</a>, <a class="el" href="a01166_source.html#l00105">board_spi_flush()</a>, <a class="el" href="a01166_source.html#l00064">board_spi_write()</a>, <a class="el" href="a01172_source.html#l00104">deselect()</a>, and <a class="el" href="a01172_source.html#l00095">select_on_bus()</a>.</p>

</div>
</div>
<a id="ga05f970893e060c7bed2a754b5571a258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05f970893e060c7bed2a754b5571a258">&#9670;&nbsp;</a></span>write_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool write_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable write. </p>
<dl class="section return"><dt>Returns</dt><dd>True when successful. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a01172_source.html#l00255">255</a> of file <a class="el" href="a01172_source.html">ext-flash.c</a>.</p>

<p class="reference">References <a class="el" href="a01172_source.html#l00052">BLS_CODE_WRITE_ENABLE</a>, <a class="el" href="a01166_source.html#l00064">board_spi_write()</a>, <a class="el" href="a01172_source.html#l00104">deselect()</a>, and <a class="el" href="a01172_source.html#l00095">select_on_bus()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 29 2017 15:33:27 for ContikiNG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
