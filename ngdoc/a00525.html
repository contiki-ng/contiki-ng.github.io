<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Contiki-NG: arch/platform/cooja/contiki-cooja-main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Contiki-NG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_94b2ecc4b170379b94eb1721faf0154f.html">platform</a></li><li class="navelem"><a class="el" href="dir_95ff89ece322cbdd505a6922f3c7c89e.html">cooja</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">contiki-cooja-main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><pre class="fragment">    COOJA Contiki mote main file.</pre>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;jni.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;contiki.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="a01092_source.html">sys/cc.h</a>&quot;</code><br/>
<code>#include &quot;sys/clock.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="a01101_source.html">sys/etimer.h</a>&quot;</code><br/>
<code>#include &quot;sys/cooja_mt.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="a01090_source.html">sys/autostart.h</a>&quot;</code><br/>
<code>#include &quot;lib/random.h&quot;</code><br/>
<code>#include &quot;lib/simEnvChange.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00945_source.html">net/netstack.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00951_source.html">net/queuebuf.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00745_source.html">dev/eeprom.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00754_source.html">dev/serial-line.h</a>&quot;</code><br/>
<code>#include &quot;dev/cooja-radio.h&quot;</code><br/>
<code>#include &quot;dev/button-sensor.h&quot;</code><br/>
<code>#include &quot;dev/pir-sensor.h&quot;</code><br/>
<code>#include &quot;dev/vib-sensor.h&quot;</code><br/>
<code>#include &quot;sys/node-id.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00880_source.html">net/ipv6/uip.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00869_source.html">net/ipv6/uip-ds6.h</a>&quot;</code><br/>
</div>
<p><a href="a00525_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a673e33f4e562c673143e99f010b4b943"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00525.html#a673e33f4e562c673143e99f010b4b943">Java_org_contikios_cooja_corecomm_CLASSNAME_init</a> (JNIEnv *env, jobject obj)</td></tr>
<tr class="memdesc:a673e33f4e562c673143e99f010b4b943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a mote by starting processes etc.  <a href="#a673e33f4e562c673143e99f010b4b943">More...</a><br/></td></tr>
<tr class="separator:a673e33f4e562c673143e99f010b4b943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989893ac83aeb7c0cc6288f65ae3696d"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00525.html#a989893ac83aeb7c0cc6288f65ae3696d">Java_org_contikios_cooja_corecomm_CLASSNAME_getMemory</a> (JNIEnv *env, jobject obj, jint rel_addr, jint length, jbyteArray mem_arr)</td></tr>
<tr class="memdesc:a989893ac83aeb7c0cc6288f65ae3696d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a segment from the process memory.  <a href="#a989893ac83aeb7c0cc6288f65ae3696d">More...</a><br/></td></tr>
<tr class="separator:a989893ac83aeb7c0cc6288f65ae3696d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac608f8dbe9a3f116e7fa305e5b00e8ff"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00525.html#ac608f8dbe9a3f116e7fa305e5b00e8ff">Java_org_contikios_cooja_corecomm_CLASSNAME_setMemory</a> (JNIEnv *env, jobject obj, jint rel_addr, jint length, jbyteArray mem_arr)</td></tr>
<tr class="memdesc:ac608f8dbe9a3f116e7fa305e5b00e8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a segment of the process memory with given byte array.  <a href="#ac608f8dbe9a3f116e7fa305e5b00e8ff">More...</a><br/></td></tr>
<tr class="separator:ac608f8dbe9a3f116e7fa305e5b00e8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b2533cc58bac15ac21f664be4a35e9c"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00525.html#a9b2533cc58bac15ac21f664be4a35e9c">Java_org_contikios_cooja_corecomm_CLASSNAME_tick</a> (JNIEnv *env, jobject obj)</td></tr>
<tr class="memdesc:a9b2533cc58bac15ac21f664be4a35e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let mote execute one "block" of code (tick mote).  <a href="#a9b2533cc58bac15ac21f664be4a35e9c">More...</a><br/></td></tr>
<tr class="separator:a9b2533cc58bac15ac21f664be4a35e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d10b7f367b02fc0ee56a2c6d5c9c20"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00525.html#a16d10b7f367b02fc0ee56a2c6d5c9c20">Java_org_contikios_cooja_corecomm_CLASSNAME_setReferenceAddress</a> (JNIEnv *env, jobject obj, jint <a class="el" href="a00874.html#a9a7cf6986d952290ec159e9a084003ff">addr</a>)</td></tr>
<tr class="memdesc:a16d10b7f367b02fc0ee56a2c6d5c9c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the relative memory address of the reference variable.  <a href="#a16d10b7f367b02fc0ee56a2c6d5c9c20">More...</a><br/></td></tr>
<tr class="separator:a16d10b7f367b02fc0ee56a2c6d5c9c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">    COOJA Contiki mote main file.</pre> <dl class="section author"><dt>Author</dt><dd>Fredrik Osterlind <a href="#" onclick="location.href='mai'+'lto:'+'fro'+'s@'+'sic'+'s.'+'se'; return false;">fros@<span style="display: none;">.nosp@m.</span>sics<span style="display: none;">.nosp@m.</span>.se</a> </dd></dl>

<p>Definition in file <a class="el" href="a00525_source.html">contiki-cooja-main.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a989893ac83aeb7c0cc6288f65ae3696d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_contikios_cooja_corecomm_CLASSNAME_getMemory </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>rel_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jbyteArray&#160;</td>
          <td class="paramname"><em>mem_arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a segment from the process memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI Environment interface pointer </td></tr>
    <tr><td class="paramname">obj</td><td>unused </td></tr>
    <tr><td class="paramname">rel_addr</td><td>Start address of segment </td></tr>
    <tr><td class="paramname">length</td><td>Size of memory segment </td></tr>
    <tr><td class="paramname">mem_arr</td><td>Byte array destination for the fetched memory segment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Java byte array containing a copy of memory segment. <pre class="fragment">        Fetches a memory segment from the process memory starting at
        (rel_addr), with size (length). This function does not perform
        ANY error checking, and the process may crash if addresses are
        not available/readable.

        This is a JNI function and should only be called via the
        responsible Java part (MoteType.java).</pre> </dd></dl>

<p>Definition at line <a class="el" href="a00525_source.html#l00331">331</a> of file <a class="el" href="a00525_source.html">contiki-cooja-main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a673e33f4e562c673143e99f010b4b943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_contikios_cooja_corecomm_CLASSNAME_init </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a mote by starting processes etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI Environment interface pointer </td></tr>
    <tr><td class="paramname">obj</td><td>unused <pre class="fragment">        This function initializes a mote by starting certain
        processes and setting up the environment.

        This is a JNI function and should only be called via the
        responsible Java part (MoteType.java).</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00525_source.html#l00306">306</a> of file <a class="el" href="a00525_source.html">contiki-cooja-main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac608f8dbe9a3f116e7fa305e5b00e8ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_contikios_cooja_corecomm_CLASSNAME_setMemory </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>rel_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jbyteArray&#160;</td>
          <td class="paramname"><em>mem_arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace a segment of the process memory with given byte array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI Environment interface pointer </td></tr>
    <tr><td class="paramname">obj</td><td>unused </td></tr>
    <tr><td class="paramname">rel_addr</td><td>Start address of segment </td></tr>
    <tr><td class="paramname">length</td><td>Size of memory segment </td></tr>
    <tr><td class="paramname">mem_arr</td><td>Byte array contaning new memory <pre class="fragment">        Replaces a process memory segment with given byte array.
        This function does not perform ANY error checking, and the
        process may crash if addresses are not available/writable.

        This is a JNI function and should only be called via the
        responsible Java part (MoteType.java).</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00525_source.html#l00358">358</a> of file <a class="el" href="a00525_source.html">contiki-cooja-main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a16d10b7f367b02fc0ee56a2c6d5c9c20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_contikios_cooja_corecomm_CLASSNAME_setReferenceAddress </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the relative memory address of the reference variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI Environment interface pointer </td></tr>
    <tr><td class="paramname">obj</td><td>unused </td></tr>
    <tr><td class="paramname">addr</td><td>Relative memory address <pre class="fragment">        This is a JNI function and should only be called via the
        responsible Java part (MoteType.java).</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00525_source.html#l00430">430</a> of file <a class="el" href="a00525_source.html">contiki-cooja-main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9b2533cc58bac15ac21f664be4a35e9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_contikios_cooja_corecomm_CLASSNAME_tick </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let mote execute one "block" of code (tick mote). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI Environment interface pointer </td></tr>
    <tr><td class="paramname">obj</td><td>unused <pre class="fragment">        Let mote defined by the active contiki processes and current
        process memory execute some program code. This code must not block
        or else this function will never return. A typical contiki
        process will return when it executes PROCESS_WAIT..() statements.

        Before the control is left to contiki processes, any messages
        from the Java part are handled. These may for example be
        incoming network data. After the contiki processes return control,
        messages to the Java part are also handled (those which may need
        special attention).

        This is a JNI function and should only be called via the
        responsible Java part (MoteType.java).</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00525_source.html#l00387">387</a> of file <a class="el" href="a00525_source.html">contiki-cooja-main.c</a>.</p>

<p>References <a class="el" href="a01100_source.html#l00237">etimer_next_expiration_time()</a>, <a class="el" href="a01100_source.html#l00231">etimer_pending()</a>, and <a class="el" href="a01100_source.html#l00145">etimer_request_poll()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 6 2017 14:06:36 for Contiki-NG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
