<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Contiki-NG: cc2538 ECC driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Contiki-NG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a>  </div>
  <div class="headertitle">
<div class="title">cc2538 ECC driver<div class="ingroups"><a class="el" href="a01173.html">cc2538 PKA engine</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Driver for the cc2538 ECC mode of the PKC engine.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:a01187"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01187.html">cc2538 ECC Algorithms</a></td></tr>
<tr class="memdesc:a01187"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a implementation of ECDH, ECDSA sign and ECDSA verify. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01188"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01188.html">cc2538 NIST curves</a></td></tr>
<tr class="memdesc:a01188"><td class="mdescLeft">&#160;</td><td class="mdescRight">NIST curves for various key sizes. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a00214"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00214.html">ecc-driver.c</a></td></tr>
<tr class="memdesc:a00214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the cc2538 ECC driver. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00215"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00215.html">ecc-driver.h</a></td></tr>
<tr class="memdesc:a00215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for the cc2538 ECC driver. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
ECC functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpd57cd7f4dee9bc487d9be4df1b6747a7"></a> </p>
<dl class="section note"><dt>Note</dt><dd>Not all sequencer functions are implemented in this driver look at the CC2538 manual for a complete list. </dd></dl>
</td></tr>
<tr class="memitem:ga7909c02f7b3f63ab0e69cf0bf9cdbcf3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01186.html#ga7909c02f7b3f63ab0e69cf0bf9cdbcf3">ecc_mul_start</a> (uint32_t *scalar, ec_point_t *ec_point, ecc_curve_info_t *curve, uint32_t *result_vector, struct process *process)</td></tr>
<tr class="memdesc:ga7909c02f7b3f63ab0e69cf0bf9cdbcf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts ECC Multiplication.  <a href="#ga7909c02f7b3f63ab0e69cf0bf9cdbcf3">More...</a><br/></td></tr>
<tr class="separator:ga7909c02f7b3f63ab0e69cf0bf9cdbcf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d1761e0dd056615bfdc036dccd64daa"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01186.html#ga3d1761e0dd056615bfdc036dccd64daa">ecc_mul_get_result</a> (ec_point_t *ec_point, uint32_t result_vector)</td></tr>
<tr class="memdesc:ga3d1761e0dd056615bfdc036dccd64daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the result of ECC Multiplication.  <a href="#ga3d1761e0dd056615bfdc036dccd64daa">More...</a><br/></td></tr>
<tr class="separator:ga3d1761e0dd056615bfdc036dccd64daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32c01c1eba7a00b02ddd314a2f30a766"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01186.html#ga32c01c1eba7a00b02ddd314a2f30a766">ecc_mul_gen_pt_start</a> (uint32_t *scalar, ecc_curve_info_t *curve, uint32_t *result_vector, struct process *process)</td></tr>
<tr class="memdesc:ga32c01c1eba7a00b02ddd314a2f30a766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the ECC Multiplication with Generator point.  <a href="#ga32c01c1eba7a00b02ddd314a2f30a766">More...</a><br/></td></tr>
<tr class="separator:ga32c01c1eba7a00b02ddd314a2f30a766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadc22727c5722307f7e1003c497cbe54"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01186.html#gaadc22727c5722307f7e1003c497cbe54">ecc_mul_gen_pt_get_result</a> (ec_point_t *ec_point, uint32_t result_vector)</td></tr>
<tr class="memdesc:gaadc22727c5722307f7e1003c497cbe54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the result of ECC Multiplication with Generator point.  <a href="#gaadc22727c5722307f7e1003c497cbe54">More...</a><br/></td></tr>
<tr class="separator:gaadc22727c5722307f7e1003c497cbe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8feb3bdce60897120c57fbe512f3908d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01186.html#ga8feb3bdce60897120c57fbe512f3908d">ecc_add_start</a> (ec_point_t *ec_point1, ec_point_t *ec_point2, ecc_curve_info_t *curve, uint32_t *result_vector, struct process *process)</td></tr>
<tr class="memdesc:ga8feb3bdce60897120c57fbe512f3908d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the ECC Addition.  <a href="#ga8feb3bdce60897120c57fbe512f3908d">More...</a><br/></td></tr>
<tr class="separator:ga8feb3bdce60897120c57fbe512f3908d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1cb4f8a889b5d1ee77cd203a1792787"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01186.html#gaa1cb4f8a889b5d1ee77cd203a1792787">ecc_add_get_result</a> (ec_point_t *ptOutEcPt, uint32_t ui32ResultLoc)</td></tr>
<tr class="memdesc:gaa1cb4f8a889b5d1ee77cd203a1792787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the result of the ECC Addition.  <a href="#gaa1cb4f8a889b5d1ee77cd203a1792787">More...</a><br/></td></tr>
<tr class="separator:gaa1cb4f8a889b5d1ee77cd203a1792787"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the cc2538 ECC mode of the PKC engine. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa1cb4f8a889b5d1ee77cd203a1792787"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ecc_add_get_result </td>
          <td>(</td>
          <td class="paramtype">ec_point_t *&#160;</td>
          <td class="paramname"><em>ptOutEcPt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ResultLoc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the result of the ECC Addition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptOutEcPt</td><td>Pointer to the structure where the resultant point will be stored. The callee is responsible to allocate memory, for the ec point structure including the memory for x and y co-ordinate values. </td></tr>
    <tr><td class="paramname">ui32ResultLoc</td><td>Address of the result location which was provided by the function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>PKAECCAddStart().</dd></dl>
<p>This function gets the result of ecc point addition operation on the on the two given ec points, previously started using the function </p>
<dl class="section see"><dt>See Also</dt><dd>PKAECCAddStart().</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PKA_STATUS_SUCCESS</td><td>if the operation is successful. </td></tr>
    <tr><td class="paramname">PKA_STATUS_OPERATION_INPRG</td><td>if the PKA hw module is busy performing the operation. </td></tr>
    <tr><td class="paramname">PKA_STATUS_RESULT_0</td><td>if the result is all zeroes. </td></tr>
    <tr><td class="paramname">PKA_STATUS_FAILURE</td><td>if the operation is not successful. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00214_source.html#l00503">503</a> of file <a class="el" href="a00214_source.html">ecc-driver.c</a>.</p>

<p>References <a class="el" href="a00874_source.html#l00115">addr</a>, <a class="el" href="a00088_source.html#l00653">NVIC_DisableIRQ()</a>, <a class="el" href="a00232_source.html#l00273">PKA_FUNCTION</a>, <a class="el" href="a00232_source.html#l00733">PKA_FUNCTION_RUN</a>, <a class="el" href="a00157_source.html#l00112">PKA_IRQn</a>, <a class="el" href="a00232_source.html#l00337">PKA_MSW</a>, <a class="el" href="a00232_source.html#l00919">PKA_MSW_MSW_ADDRESS_M</a>, <a class="el" href="a00232_source.html#l00911">PKA_MSW_RESULT_IS_ZERO</a>, <a class="el" href="a00232_source.html#l00057">PKA_RAM_BASE</a>, <a class="el" href="a00232_source.html#l00058">PKA_RAM_SIZE</a>, <a class="el" href="a00231_source.html#l00124">pka_register_process_notification()</a>, <a class="el" href="a00232_source.html#l00248">PKA_SHIFT</a>, <a class="el" href="a00232_source.html#l01297">PKA_STATUS_FAILURE</a>, <a class="el" href="a00232_source.html#l01311">PKA_STATUS_OPERATION_INPRG</a>, <a class="el" href="a00232_source.html#l01300">PKA_STATUS_RESULT_0</a>, and <a class="el" href="a00232_source.html#l01296">PKA_STATUS_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="a00210_source.html#l00134">PT_THREAD()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8feb3bdce60897120c57fbe512f3908d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ecc_add_start </td>
          <td>(</td>
          <td class="paramtype">ec_point_t *&#160;</td>
          <td class="paramname"><em>ec_point1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ec_point_t *&#160;</td>
          <td class="paramname"><em>ec_point2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ecc_curve_info_t *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>result_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct process *&#160;</td>
          <td class="paramname"><em>process</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the ECC Addition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec_point1</td><td>Pointer to the structure containing the first ecc point. </td></tr>
    <tr><td class="paramname">ec_point2</td><td>Pointer to the structure containing the second ecc point. </td></tr>
    <tr><td class="paramname">curve</td><td>Pointer to the structure containing the curve info. </td></tr>
    <tr><td class="paramname">result_vector</td><td>Pointer to the result vector location which will be set by this function. </td></tr>
    <tr><td class="paramname">process</td><td>Process to be polled upon completion of the operation, or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<p>This function starts the ecc point addition operation on the two given ec points and generates the resultant ecc point.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PKA_STATUS_SUCCESS</td><td>if successful in starting the operation. </td></tr>
    <tr><td class="paramname">PKA_STATUS_OPERATION_INPRG</td><td>if the PKA hw module is busy doing some other operation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00214_source.html#l00391">391</a> of file <a class="el" href="a00214_source.html">ecc-driver.c</a>.</p>

<p>References <a class="el" href="a00088_source.html#l00688">NVIC_ClearPendingIRQ()</a>, <a class="el" href="a00088_source.html#l00642">NVIC_EnableIRQ()</a>, <a class="el" href="a00232_source.html#l00074">PKA_APTR</a>, <a class="el" href="a00232_source.html#l00219">PKA_BLENGTH</a>, <a class="el" href="a00232_source.html#l00103">PKA_BPTR</a>, <a class="el" href="a00232_source.html#l00132">PKA_CPTR</a>, <a class="el" href="a00232_source.html#l00161">PKA_DPTR</a>, <a class="el" href="a00232_source.html#l00273">PKA_FUNCTION</a>, <a class="el" href="a00232_source.html#l00733">PKA_FUNCTION_RUN</a>, <a class="el" href="a00157_source.html#l00112">PKA_IRQn</a>, <a class="el" href="a00232_source.html#l00057">PKA_RAM_BASE</a>, <a class="el" href="a00231_source.html#l00124">pka_register_process_notification()</a>, <a class="el" href="a00232_source.html#l01311">PKA_STATUS_OPERATION_INPRG</a>, and <a class="el" href="a00232_source.html#l01296">PKA_STATUS_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="a00210_source.html#l00134">PT_THREAD()</a>.</p>

</div>
</div>
<a class="anchor" id="gaadc22727c5722307f7e1003c497cbe54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ecc_mul_gen_pt_get_result </td>
          <td>(</td>
          <td class="paramtype">ec_point_t *&#160;</td>
          <td class="paramname"><em>ec_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>result_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the result of ECC Multiplication with Generator point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec_point</td><td>Pointer to the structure where the resultant EC point will be stored. The callee is responsible to allocate the space for the ec point structure and the x and y co-ordinate as well. </td></tr>
    <tr><td class="paramname">result_vector</td><td>Address of the result location which was provided by the start function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>PKAECCMultGenPtStart().</dd></dl>
<p>This function gets the result of ecc point multiplication operation on the scalar point and the known generator point on the curve, previously started using the function </p>
<dl class="section see"><dt>See Also</dt><dd>PKAECCMultGenPtStart().</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PKA_STATUS_SUCCESS</td><td>if the operation is successful. </td></tr>
    <tr><td class="paramname">PKA_STATUS_OPERATION_INPRG</td><td>if the PKA hw module is busy performing the operation. </td></tr>
    <tr><td class="paramname">PKA_STATUS_RESULT_0</td><td>if the result is all zeroes. </td></tr>
    <tr><td class="paramname">PKA_STATUS_FAILURE</td><td>if the operation is not successful. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00214_source.html#l00330">330</a> of file <a class="el" href="a00214_source.html">ecc-driver.c</a>.</p>

<p>References <a class="el" href="a00874_source.html#l00115">addr</a>, <a class="el" href="a00088_source.html#l00653">NVIC_DisableIRQ()</a>, <a class="el" href="a00232_source.html#l00273">PKA_FUNCTION</a>, <a class="el" href="a00232_source.html#l00733">PKA_FUNCTION_RUN</a>, <a class="el" href="a00157_source.html#l00112">PKA_IRQn</a>, <a class="el" href="a00232_source.html#l00337">PKA_MSW</a>, <a class="el" href="a00232_source.html#l00919">PKA_MSW_MSW_ADDRESS_M</a>, <a class="el" href="a00232_source.html#l00911">PKA_MSW_RESULT_IS_ZERO</a>, <a class="el" href="a00232_source.html#l00057">PKA_RAM_BASE</a>, <a class="el" href="a00232_source.html#l00058">PKA_RAM_SIZE</a>, <a class="el" href="a00231_source.html#l00124">pka_register_process_notification()</a>, <a class="el" href="a00232_source.html#l00248">PKA_SHIFT</a>, <a class="el" href="a00232_source.html#l01297">PKA_STATUS_FAILURE</a>, <a class="el" href="a00232_source.html#l01311">PKA_STATUS_OPERATION_INPRG</a>, <a class="el" href="a00232_source.html#l01300">PKA_STATUS_RESULT_0</a>, and <a class="el" href="a00232_source.html#l01296">PKA_STATUS_SUCCESS</a>.</p>

</div>
</div>
<a class="anchor" id="ga32c01c1eba7a00b02ddd314a2f30a766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ecc_mul_gen_pt_start </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>scalar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ecc_curve_info_t *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>result_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct process *&#160;</td>
          <td class="paramname"><em>process</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the ECC Multiplication with Generator point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scalar</td><td>Pointer to the buffer containing the scalar value. </td></tr>
    <tr><td class="paramname">curve</td><td>Pointer to the structure containing the curve info. </td></tr>
    <tr><td class="paramname">result_vector</td><td>Pointer to the result vector location which will be set by this function. </td></tr>
    <tr><td class="paramname">process</td><td>Process to be polled upon completion of the operation, or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<p>This function starts the ecc point multiplication operation of the scalar value with the well known generator point of the given curve.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PKA_STATUS_SUCCESS</td><td>if successful in starting the operation. </td></tr>
    <tr><td class="paramname">PKA_STATUS_OPERATION_INPRG</td><td>if the PKA hw module is busy doing some other operation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00214_source.html#l00223">223</a> of file <a class="el" href="a00214_source.html">ecc-driver.c</a>.</p>

<p>References <a class="el" href="a00088_source.html#l00688">NVIC_ClearPendingIRQ()</a>, <a class="el" href="a00088_source.html#l00642">NVIC_EnableIRQ()</a>, <a class="el" href="a00232_source.html#l00190">PKA_ALENGTH</a>, <a class="el" href="a00232_source.html#l00074">PKA_APTR</a>, <a class="el" href="a00232_source.html#l00219">PKA_BLENGTH</a>, <a class="el" href="a00232_source.html#l00103">PKA_BPTR</a>, <a class="el" href="a00232_source.html#l00132">PKA_CPTR</a>, <a class="el" href="a00232_source.html#l00161">PKA_DPTR</a>, <a class="el" href="a00232_source.html#l00273">PKA_FUNCTION</a>, <a class="el" href="a00232_source.html#l00733">PKA_FUNCTION_RUN</a>, <a class="el" href="a00157_source.html#l00112">PKA_IRQn</a>, <a class="el" href="a00232_source.html#l00059">PKA_MAX_CURVE_SIZE</a>, <a class="el" href="a00232_source.html#l00057">PKA_RAM_BASE</a>, <a class="el" href="a00231_source.html#l00124">pka_register_process_notification()</a>, <a class="el" href="a00232_source.html#l01311">PKA_STATUS_OPERATION_INPRG</a>, and <a class="el" href="a00232_source.html#l01296">PKA_STATUS_SUCCESS</a>.</p>

</div>
</div>
<a class="anchor" id="ga3d1761e0dd056615bfdc036dccd64daa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ecc_mul_get_result </td>
          <td>(</td>
          <td class="paramtype">ec_point_t *&#160;</td>
          <td class="paramname"><em>ec_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>result_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the result of ECC Multiplication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec_point</td><td>Pointer to the structure where the resultant EC point will be stored. The callee is responsible to allocate the space for the ec point structure and the x and y co-ordinate as well. </td></tr>
    <tr><td class="paramname">result_vector</td><td>Address of the result location which was provided by the start function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>PKAECCMultiplyStart().</dd></dl>
<p>This function gets the result of ecc point multiplication operation on the ec point and the scalar value, previously started using the function </p>
<dl class="section see"><dt>See Also</dt><dd>PKAECCMultiplyStart().</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PKA_STATUS_SUCCESS</td><td>if the operation is successful. </td></tr>
    <tr><td class="paramname">PKA_STATUS_OPERATION_INPRG</td><td>if the PKA hw module is busy performing the operation. </td></tr>
    <tr><td class="paramname">PKA_STATUS_RESULT_0</td><td>if the result is all zeroes. </td></tr>
    <tr><td class="paramname">PKA_STATUS_FAILURE</td><td>if the operation is not successful. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00214_source.html#l00163">163</a> of file <a class="el" href="a00214_source.html">ecc-driver.c</a>.</p>

<p>References <a class="el" href="a00874_source.html#l00115">addr</a>, <a class="el" href="a00088_source.html#l00653">NVIC_DisableIRQ()</a>, <a class="el" href="a00232_source.html#l00273">PKA_FUNCTION</a>, <a class="el" href="a00232_source.html#l00733">PKA_FUNCTION_RUN</a>, <a class="el" href="a00157_source.html#l00112">PKA_IRQn</a>, <a class="el" href="a00232_source.html#l00337">PKA_MSW</a>, <a class="el" href="a00232_source.html#l00919">PKA_MSW_MSW_ADDRESS_M</a>, <a class="el" href="a00232_source.html#l00911">PKA_MSW_RESULT_IS_ZERO</a>, <a class="el" href="a00232_source.html#l00057">PKA_RAM_BASE</a>, <a class="el" href="a00232_source.html#l00058">PKA_RAM_SIZE</a>, <a class="el" href="a00231_source.html#l00124">pka_register_process_notification()</a>, <a class="el" href="a00232_source.html#l00248">PKA_SHIFT</a>, <a class="el" href="a00232_source.html#l01297">PKA_STATUS_FAILURE</a>, <a class="el" href="a00232_source.html#l01311">PKA_STATUS_OPERATION_INPRG</a>, <a class="el" href="a00232_source.html#l01300">PKA_STATUS_RESULT_0</a>, and <a class="el" href="a00232_source.html#l01296">PKA_STATUS_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="a00210_source.html#l00066">PT_THREAD()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7909c02f7b3f63ab0e69cf0bf9cdbcf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ecc_mul_start </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>scalar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ec_point_t *&#160;</td>
          <td class="paramname"><em>ec_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ecc_curve_info_t *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>result_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct process *&#160;</td>
          <td class="paramname"><em>process</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts ECC Multiplication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scalar</td><td>Pointer to the buffer containing the scalar value to be multiplied. </td></tr>
    <tr><td class="paramname">ec_point</td><td>Pointer to the structure containing the elliptic curve point to be multiplied. The point should be on the given curve. </td></tr>
    <tr><td class="paramname">curve</td><td>Pointer to the structure containing the curve info. </td></tr>
    <tr><td class="paramname">result_vector</td><td>Pointer to the result vector location which will be set by this function. </td></tr>
    <tr><td class="paramname">process</td><td>Process to be polled upon completion of the operation, or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<p>This function starts the Elliptical curve cryptography (ECC) point multiplication operation on the EC point and the scalar value.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PKA_STATUS_SUCCESS</td><td>if successful in starting the operation. </td></tr>
    <tr><td class="paramname">PKA_STATUS_OPERATION_INPRG</td><td>if the PKA hw module is busy doing some other operation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00214_source.html#l00050">50</a> of file <a class="el" href="a00214_source.html">ecc-driver.c</a>.</p>

<p>References <a class="el" href="a00088_source.html#l00688">NVIC_ClearPendingIRQ()</a>, <a class="el" href="a00088_source.html#l00642">NVIC_EnableIRQ()</a>, <a class="el" href="a00232_source.html#l00190">PKA_ALENGTH</a>, <a class="el" href="a00232_source.html#l00074">PKA_APTR</a>, <a class="el" href="a00232_source.html#l00219">PKA_BLENGTH</a>, <a class="el" href="a00232_source.html#l00103">PKA_BPTR</a>, <a class="el" href="a00232_source.html#l00132">PKA_CPTR</a>, <a class="el" href="a00232_source.html#l00161">PKA_DPTR</a>, <a class="el" href="a00232_source.html#l00273">PKA_FUNCTION</a>, <a class="el" href="a00232_source.html#l00733">PKA_FUNCTION_RUN</a>, <a class="el" href="a00157_source.html#l00112">PKA_IRQn</a>, <a class="el" href="a00232_source.html#l00059">PKA_MAX_CURVE_SIZE</a>, <a class="el" href="a00232_source.html#l00057">PKA_RAM_BASE</a>, <a class="el" href="a00231_source.html#l00124">pka_register_process_notification()</a>, <a class="el" href="a00232_source.html#l01311">PKA_STATUS_OPERATION_INPRG</a>, and <a class="el" href="a00232_source.html#l01296">PKA_STATUS_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="a00210_source.html#l00066">PT_THREAD()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 6 2017 14:06:46 for Contiki-NG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
